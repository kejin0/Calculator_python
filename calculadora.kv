

<Tela>:
    size:root.size
    pos:root.pos
    Display:
        top:root.height
        size:root.width,140
        background_color: ''
        canvas.before:
            Color:
                rgba: .8,.8,.8,1
            Rectangle:
                pos:self.pos
                size:self.size
    Contas:
        id:mostrar
        text:""
        halign:'right'
        valign:'bottom'
        x: root.width*.005
        top: root.height - 90
        text_size: self.size
        font_size:20
        size:root.width -20 ,50
    BoxLayout:
        orientation: "vertical"
        #cols: 5
        #rows: 5
        size:root.width, root.height - 147
        spacing:3
        BoxLayout:
            spacing:3
            Button1:
                #pos:root.width*.005,root.height - (147 + self.height)
                #size:root.width*.18,root.height*0.1
                text: "c"
                on_press: root.apagar()
            Button2:
                #pos:root.width*.185,root.height - (147 + self.height)
                #size:root.width*.18,root.height*0.1
                text: "("
                on_press: root.fazer("(")
            Button3:
                #pos:root.width*.365,root.height - (147 + self.height)
                #size:root.width*.18,root.height*0.1
                text: ")"
                on_press: root.fazer(")")
            Button4:
                #pos:root.width*.545,root.height - (147 + self.height)
                #size:root.width*.18,root.height*0.1
                text: "mod"

            Button5:
                #pos:root.width*.725,root.height - (147 + self.height)
                #size:root.width*.18,root.height*0.1
                text: "π"
                on_press: root.fazer(3.14159265359)
        BoxLayout:
            spacing:3
            Button6:
                #pos:root.width*.005,root.height - (149 + 2*self.height)
                #size:root.width*.18,root.height*0.1
                text: "7"
                on_press: root.fazer(7)
            Button7:
                #pos:root.width*.185,root.height - (149 + 2*self.height)
                #size:root.width*.18,root.height*0.1
                text: "8"
                on_press: root.fazer(8)
            Button8:
                #pos:root.width*.365,root.height - (149 + 2*self.height)
                #size:root.width*.18,root.height*0.1
                text: "9"
                on_press: root.fazer(9)
            Button9:
                #pos:root.width*.545,root.height - (149 + 2*self.height)
                #size:root.width*.18,root.height*0.1
                text: "÷"
                on_press: root.fazer("/")
            Button10:
                #pos:root.width*.725,root.height - (149 + 2*self.height)
                #size:root.width*.18,root.height*0.1
                text: "√"
                on_press: root.fazer("sqrt(")
        BoxLayout:
            spacing:3
            Button11:
                #pos:root.width*.005,root.height - (151 + 3*self.height)
                #size:root.width*.18,root.height*0.1
                text: "4"
                on_press: root.fazer(4)
            Button12:
                #pos:root.width*.185,root.height - (151 + 3*self.height)
                #size:root.width*.18,root.height*0.1
                text: "5"
                on_press: root.fazer(5)
            Button13:
                #pos:root.width*.365,root.height - (151 + 3*self.height)
                #size:root.width*.18,root.height*0.1
                text: "6"
                on_press: root.fazer(6)
            Button14:
                #pos:root.width*.545,root.height - (151 + 3*self.height)
                #size:root.width*.18,root.height*0.1
                text: "×"
                on_press: root.fazer("*")
            Button15:
                #pos:root.width*.725,root.height - (151 + 3*self.height)
                #size:root.width*.18,root.height*0.1
                text: "x²"
                on_press: root.fazer("**2")
        BoxLayout:
            spacing:3
            Button16:
                #pos:root.width*.005,root.height - (153 + 4*self.height)
                #size:root.width*.18,root.height*0.1
                text: "1"
                on_press: root.fazer(1)
            Button17:
                #pos:root.width*.185,root.height - (153 + 4*self.height)
                #size:root.width*.18,root.height*0.1
                text: "2"
                on_press: root.fazer(2)
            Button18:
                #pos:root.width*.365,root.height - (153 + 4*self.height)
                #size:root.width*.18,root.height*0.1
                text: "3"
                on_press: root.fazer(3)
            Button19:
                #pos:root.width*.545,root.height - (153 + 4*self.height)
                #size:root.width*.18,root.height*0.1
                text: "-"
                on_press: root.fazer("-")
            Label:
                background_color: 0,0,0,0
        BoxLayout:
            spacing:3

             #   pos:root.width*.725,root.height - (153 + 4*self.height)
             #   size:root.width*.18,root.height*0.1
             #   text: "="
            Button21:
                #pos:root.width*.005,root.height - (155 + 5*self.height)
                #size:root.width*.18,root.height*0.1
                text: "0"
                on_press: root.fazer(0)
            Button22:
                #pos:root.width*.185,root.height - (155 + 5*self.height)
                #size:root.width*.18,root.height*0.1
                text: "."
                on_press: root.fazer(".")
            Button23:
                #pos:root.width*.365,root.height - (155 + 5*self.height)
                #size:root.width*.18,root.height*0.1
                text: "%"
            Button24:
                #pos:root.width*.545,root.height - (155 + 5*self.height)
                #size:root.width*.18,root.height*0.1
                text: "+"
                on_press: root.fazer("+")
            Button25:
                rows:2
                height:root.height
                text: "="
                on_press: root.fazer("=")


<Display@Label>

<Contas>:
    color:0.118,0.118,0.118,1
    canvas.before:
        Color:
            rgba: 1,0,0,0
        Rectangle:
            pos:self.pos
            size:self.size

<MyButton>
    background_color: (204/255, 204/255, 204/255, 1) if self.state == 'normal' else (.2,.2,.2,0)
    color: 1,1,1,1
    font_size:20
    canvas.before:
        Color:
            rgba:(204/255, 204/255, 204/255,0.5)
        Rectangle:
            size: self.width*.98,self.height*.9
            pos: self.x + (self.width*.01),self.y + (self.height*.04)
